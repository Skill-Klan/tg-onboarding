# SkillKlan Telegram Bot

Telegram –±–æ—Ç –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ —Ä–æ–∑–ø–æ–¥—ñ–ª—É —Ç–µ—Å—Ç–æ–≤–∏—Ö –∑–∞–≤–¥–∞–Ω—å –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –Ω–∞–ø—Ä—è–º–∫—ñ–≤ –Ω–∞–≤—á–∞–Ω–Ω—è –≤ IT —à–∫–æ–ª—ñ SkillKlan.

## üöÄ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

- –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ –∑–±–æ—Ä–æ–º —ñ–º–µ–Ω—ñ —Ç–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É
- –†–æ–∑–ø–æ–¥—ñ–ª –ø–æ —Ç—Ä—å–æ—Ö –Ω–∞–ø—Ä—è–º–∫–∞—Ö: QA, –ë—ñ–∑–Ω–µ—Å –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞, Backend
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤–∏–¥–∞—á–∞ —Ç–µ—Å—Ç–æ–≤–∏—Ö –∑–∞–≤–¥–∞–Ω—å —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF
- –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —á–µ—Ä–µ–∑ webhook

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **[üìö –Ü–Ω–¥–µ–∫—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó](DOCUMENTATION_INDEX.md)** - –ü–æ–≤–Ω–∏–π —ñ–Ω–¥–µ–∫—Å –≤—Å—ñ—î—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
- **[üöÄ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è](SETUP_DOCUMENTATION.md)** - –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—é
- **[üë®‚Äçüíª –ì—ñ–¥ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞](DEVELOPER_GUIDE.md)** - –ì—ñ–¥ –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤
- **[üöÄ DevOps —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è](DEVOPS_DEPLOYMENT.md)** - DevOps —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- **[BOT_FLOW.md](BOT_FLOW.md)** - –î–µ—Ç–∞–ª—å–Ω–∞ –ø–æ–∫—Ä–æ–∫–æ–≤–∞ –ª–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ –±–æ—Ç–∞
- **[FLOW_DIAGRAM.md](FLOW_DIAGRAM.md)** - –í—ñ–∑—É–∞–ª—å–Ω–∞ –¥—ñ–∞–≥—Ä–∞–º–∞ flow –≤–∑–∞—î–º–æ–¥—ñ—ó
- **[REFACTORING_SUMMARY.md](REFACTORING_SUMMARY.md)** - –ó–≤—ñ—Ç –ø—Ä–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

## üîÑ –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏

1. **–ü–æ—á–∞—Ç–æ–∫** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø–∏—Ç —ñ–º–µ–Ω—ñ
2. **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è** - –∑–±—ñ—Ä —ñ–º–µ–Ω—ñ —Ç–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É
3. **–í–∏–±—ñ—Ä –Ω–∞–ø—Ä—è–º–∫—É** - –ø—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∑–∞–≤–∂–¥–∏ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –º–µ–Ω—é –≤–∏–±–æ—Ä—É –Ω–∞–ø—Ä—è–º–∫—ñ–≤
4. **–û—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è** - –ø—ñ—Å–ª—è –≤–∏–±–æ—Ä—É –Ω–∞–ø—Ä—è–º–∫—É –≤–∏–¥–∞—î—Ç—å—Å—è PDF –∑ —Ç–µ—Å—Ç–æ–≤–∏–º –∑–∞–≤–¥–∞–Ω–Ω—è–º
5. **–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –∑–¥–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
src/
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ baseHandler.js      # –ë–∞–∑–æ–≤–∏–π handler –¥–ª—è –≤—Å—ñ—Ö –Ω–∞–ø—Ä—è–º–∫—ñ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ askName.js          # –ó–∞–ø–∏—Ç —ñ–º–µ–Ω—ñ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ askPhone.js         # –ó–∞–ø–∏—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ getReadyButtons.js  # –ö–Ω–æ–ø–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ (—Ç—ñ–ª—å–∫–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ requestPDF.js       # –ó–∞–ø–∏—Ç PDF
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sendPDF.js          # –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è PDF
‚îÇ   ‚îú‚îÄ‚îÄ qa/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ qaHandler.js        # Handler –¥–ª—è QA
‚îÇ   ‚îú‚îÄ‚îÄ ba/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ baHandler.js        # Handler –¥–ª—è –ë—ñ–∑–Ω–µ—Å –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ backendHandler.js   # Handler –¥–ª—è Backend
‚îÇ   ‚îî‚îÄ‚îÄ startHandler.js         # –ü–æ—á–∞—Ç–∫–æ–≤–∏–π handler
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îî‚îÄ‚îÄ checkContactData.js     # Middleware –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∏—Ö –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ texts/
‚îÇ   ‚îú‚îÄ‚îÄ common.js               # –°–ø—ñ–ª—å–Ω—ñ —Ç–µ–∫—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ qa.js                   # –¢–µ–∫—Å—Ç–∏ –¥–ª—è QA
‚îÇ   ‚îú‚îÄ‚îÄ ba.js                   # –¢–µ–∫—Å—Ç–∏ –¥–ª—è –ë—ñ–∑–Ω–µ—Å –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ backend.js              # –¢–µ–∫—Å—Ç–∏ –¥–ª—è Backend
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ constants.js            # –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –ø—Ä–æ–µ–∫—Ç—É
‚îÇ   ‚îú‚îÄ‚îÄ keyboard.js             # –£—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è –∫–ª–∞–≤—ñ–∞—Ç—É—Ä
‚îÇ   ‚îú‚îÄ‚îÄ tags.js                 # –£—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è —Ç–µ–≥—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ webhook.js              # Webhook —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
‚îÇ   ‚îî‚îÄ‚îÄ logger.js               # –õ–æ–≥—É–≤–∞–Ω–Ω—è (–ø–æ—Ä–æ–∂–Ω—ñ–π)
‚îî‚îÄ‚îÄ index.mjs                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
```

## üîß –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º DRY

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É:
- –ö–æ–∂–µ–Ω handler (qa, ba, backend) –º—ñ—Å—Ç–∏–≤ —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–π –∫–æ–¥
- –î—É–±–ª—é–≤–∞–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö
- –ú–∞–≥—ñ—á–Ω—ñ —Ä—è–¥–∫–∏ —Ä–æ–∑–∫–∏–¥–∞–Ω—ñ –ø–æ –≤—Å—å–æ–º—É –∫–æ–¥—É

### –ü—ñ—Å–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É:
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `baseHandler.js` - —Å–ø—ñ–ª—å–Ω–∏–π handler –¥–ª—è –≤—Å—ñ—Ö –Ω–∞–ø—Ä—è–º–∫—ñ–≤
- ‚úÖ –î–æ–¥–∞–Ω–æ `constants.js` - —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏
- ‚úÖ –£—Å—É–Ω–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É –Ω–∞ 80%
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–æ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –∫–æ–¥—É
- ‚úÖ –°–ø—Ä–æ—â–µ–Ω–æ –ª–æ–≥—ñ–∫—É —Ä–æ–±–æ—Ç–∏ - –ø—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∑–∞–≤–∂–¥–∏ –º–µ–Ω—é –≤–∏–±–æ—Ä—É

### –ó–º—ñ–Ω–∏ –≤ handlers:

**–î–æ:**
```javascript
// qaHandler.js, baHandler.js, backendHandler.js - —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–π –∫–æ–¥
export default async function(ctx) {
  const newTrack = 'QA'; // –∞–±–æ 'BA', –∞–±–æ 'Backend'
  setTrack(ctx, newTrack);
  await ctx.reply(texts.intro, getMainKeyboard());
  // ... 30+ —Ä—è–¥–∫—ñ–≤ –¥—É–±–ª—é–≤–∞–Ω–Ω—è
}
```

**–ü—ñ—Å–ª—è:**
```javascript
// qaHandler.js
export default async function(ctx) {
  return baseHandler(ctx, 'QA', qaTexts);
}

// baHandler.js  
export default async function(ctx) {
  return baseHandler(ctx, 'BA', baTexts);
}

// backendHandler.js
export default async function(ctx) {
  return baseHandler(ctx, 'Backend', backendTexts);
}
```

## üõ† –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
npm install
```

2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –∑ –≤–∞—à–∏–º —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞:
```
BOT_TOKEN=your_telegram_bot_token_here
```

3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:
```bash
node src/index.mjs
```

## üìä –ü–µ—Ä–µ–≤–∞–≥–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

- **–ó–º–µ–Ω—à–µ–Ω–Ω—è –∫–æ–¥—É:** –∑ ~120 —Ä—è–¥–∫—ñ–≤ –¥–æ ~40 —Ä—è–¥–∫—ñ–≤ –≤ handlers
- **–õ–µ–≥—à–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏:** –∑–º—ñ–Ω–∏ –≤ –ª–æ–≥—ñ—Ü—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–±–∏—Ç–∏ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ
- **–ú–µ–Ω—à–µ –ø–æ–º–∏–ª–æ–∫:** —É—Å—É–Ω–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –ª–æ–≥—ñ–∫–∏
- **–ö—Ä–∞—â–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å:** –∫–æ–¥ —Å—Ç–∞–≤ –±—ñ–ª—å—à –∑—Ä–æ–∑—É–º—ñ–ª–∏–º
- **–õ–µ–≥—à–µ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏:** –º–æ–∂–Ω–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤–∏–π handler –æ–∫—Ä–µ–º–æ
- **–°–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥—ñ–∫–∞:** –ø—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∑–∞–≤–∂–¥–∏ –º–µ–Ω—é –≤–∏–±–æ—Ä—É –Ω–∞–ø—Ä—è–º–∫—ñ–≤

## üîÆ –ü–ª–∞–Ω–∏ –Ω–∞ –º–∞–π–±—É—Ç–Ω—î

- [ ] –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- [ ] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ proper error handling
- [ ] –î–æ–¥–∞—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- [ ] –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏
- [ ] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω–∏–π webhook –∑–∞–º—ñ—Å—Ç—å –∑–∞–≥–ª—É—à–∫–∏ Test deploy
