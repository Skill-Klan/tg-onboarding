/**
 * Handler –¥–ª—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤'—é (Backend –Ω–∞–ø—Ä—è–º)
 */
export default async function bookInterview(ctx) {
  try {
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ
    if (!ctx.session.name || !ctx.session.phone) {
      await ctx.reply(
        'üìù –î–ª—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤\'—é –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é.\n\n–ë—É–¥—å –ª–∞—Å–∫–∞, –Ω–∞–¥–∞–π—Ç–µ –≤–∞—à—ñ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ñ –¥–∞–Ω—ñ.',
        { parse_mode: 'HTML' }
      );
      await ctx.answerCbQuery('‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è');
      return;
    }

    // –Ø–∫—â–æ –≤—Å—ñ –¥–∞–Ω—ñ —î - –ø–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
    await ctx.reply(
      `üìÖ <b>–ó–∞—è–≤–∫–∞ –Ω–∞ —ñ–Ω—Ç–µ—Ä–≤'—é –ø—Ä–∏–π–Ω—è—Ç–∞!</b>

–í–∞—à—ñ –¥–∞–Ω—ñ:
üë§ –Ü–º'—è: ${ctx.session.name}
üì± –¢–µ–ª–µ—Ñ–æ–Ω: ${ctx.session.phone}
üíª –ù–∞–ø—Ä—è–º: Backend

–ù–∞—à—ñ –º–µ–Ω–µ–¥–∂–µ—Ä–∏ –∑–≤'—è–∂—É—Ç—å—Å—è –∑ –≤–∞–º–∏ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º –¥–ª—è —É–∑–≥–æ–¥–∂–µ–Ω–Ω—è –∑—Ä—É—á–Ω–æ–≥–æ —á–∞—Å—É —ñ–Ω—Ç–µ—Ä–≤'—é.

–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à —ñ–Ω—Ç–µ—Ä–µ—Å –¥–æ SkillKlan! üöÄ`,
      { parse_mode: 'HTML' }
    );

    await ctx.answerCbQuery('‚úÖ –ó–∞—è–≤–∫—É –ø–æ–¥–∞–Ω–æ!');
    
    // TODO: –¢—É—Ç –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–∏—Ö –≤ CRM –∞–±–æ –±–∞–∑—É –¥–∞–Ω–∏—Ö
    
  } catch (error) {
    console.error('–ü–æ–º–∏–ª–∫–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤\'—é:', error);
    await ctx.answerCbQuery('‚ùå –í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.');
  }
}
