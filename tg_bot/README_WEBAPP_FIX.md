# üöÄ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏ Telegram Web App

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
**–ü–æ–º–∏–ª–∫–∞:** "–í–∞—à –∫–ª—ñ—î–Ω—Ç –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤–±—É–¥–æ–≤–∞–Ω–∏–π..."

**–ü—Ä–∏—á–∏–Ω–∞:** Telegram Web App –Ω–µ –º–æ–∂–µ –≤—ñ–¥–∫—Ä–∏—Ç–∏—Å—è, –∫–æ–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ñ–π –º–∞—à–∏–Ω—ñ, –∞ Telegram –∫–ª—ñ—î–Ω—Ç –ø—Ä–∞—Ü—é—î –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ.

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### üöÄ –®–≤–∏–¥–∫–µ —Ä—ñ—à–µ–Ω–Ω—è (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–µ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)

#### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑ –ø—É–±–ª—ñ—á–Ω–æ—é IP
```bash
# –ó–∞–ø—É—Å–∫ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º
./start_public.sh
```

–¶–µ–π —Å–∫—Ä–∏–ø—Ç:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—î –≤–∞—à—É –ø—É–±–ª—ñ—á–Ω—É IP
- –ù–∞–ª–∞—à—Ç–æ–≤—É—î –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- –ó–∞–ø—É—Å–∫–∞—î —Å–µ—Ä–≤–µ—Ä
- –ü–æ–∫–∞–∑—É—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ URL

#### 2. –†—É—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
```bash
# –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—É–±–ª—ñ—á–Ω–æ—ó IP
./get_public_ip.sh

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
export PUBLIC_URL=http://YOUR_PUBLIC_IP:3000
export FAQ_WEBAPP_URL=http://YOUR_PUBLIC_IP:3000/faq.html

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm start
```

### üîß –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ñ–∞–π—Ä–≤–æ–ª–∞

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
```bash
./check_firewall.sh
```

#### –†—É—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è UFW
```bash
# –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø–æ—Ä—Ç—É 3000
sudo ufw allow 3000

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
sudo ufw status
```

#### –†—É—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è iptables
```bash
# –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø–æ—Ä—Ç—É 3000
sudo iptables -A INPUT -p tcp --dport 3000 -j ACCEPT

# –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª
sudo netfilter-persistent save
```

### üåê –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è

#### 1. ngrok —Ç—É–Ω–Ω–µ–ª—å (–ø–æ—Ç—Ä–µ–±—É—î —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó)
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è authtoken
ngrok config add-authtoken YOUR_TOKEN

# –ó–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—é
./start_ngrok.sh
```

#### 2. –í–ª–∞—Å–Ω–∏–π –¥–æ–º–µ–Ω –∞–±–æ VPS
```bash
# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö
export PUBLIC_URL=https://yourdomain.com
export FAQ_WEBAPP_URL=https://yourdomain.com/faq.html
```

## üì± –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ—à–µ–Ω–Ω—è

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –í–∞—Ä—ñ–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
./start_public.sh

# –í–∞—Ä—ñ–∞–Ω—Ç 2: –†—É—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
export PUBLIC_URL=http://YOUR_IP:3000
npm start
```

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
```bash
# –õ–æ–∫–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
curl http://localhost:3000

# –ó–æ–≤–Ω—ñ—à–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
curl http://YOUR_PUBLIC_IP:3000
```

### 3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤ Telegram
- –í—ñ–¥–∫—Ä–∏–π—Ç–µ Telegram
- –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à–æ–≥–æ –±–æ—Ç–∞
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É "üìö FAQ"
- Web App –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–∫—Ä–∏—Ç–∏—Å—è

## üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
tg_bot/
‚îú‚îÄ‚îÄ start_public.sh          # üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –∑ –ø—É–±–ª—ñ—á–Ω–æ—é IP
‚îú‚îÄ‚îÄ get_public_ip.sh         # üåê –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—É–±–ª—ñ—á–Ω–æ—ó IP
‚îú‚îÄ‚îÄ check_firewall.sh        # üî• –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
‚îú‚îÄ‚îÄ start_ngrok.sh           # üåê –ó–∞–ø—É—Å–∫ ngrok (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
‚îú‚îÄ‚îÄ start_with_ngrok.sh      # üöÄ –°–µ—Ä–≤–µ—Ä + ngrok
‚îú‚îÄ‚îÄ ngrok.yml                # ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è ngrok
‚îú‚îÄ‚îÄ env.example              # üìù –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îú‚îÄ‚îÄ README_WEBAPP_FIX.md     # üìñ –¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ src/config/
    ‚îî‚îÄ‚îÄ webapp.js            # ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Web App
```

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è

### –ë–µ–∑–ø–µ–∫–∞
1. **–ü–æ—Ä—Ç 3000** –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª** –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É
3. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω—É** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS —Ç–∞ –≤–ª–∞—Å–Ω–∏–π –¥–æ–º–µ–Ω

### –û–±–º–µ–∂–µ–Ω–Ω—è
1. **–ü—É–±–ª—ñ—á–Ω–∞ IP** –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è (–¥–∏–Ω–∞–º—ñ—á–Ω–∞ IP)
2. **–ü—Ä–æ–≤–∞–π–¥–µ—Ä** –º–æ–∂–µ –±–ª–æ–∫—É–≤–∞—Ç–∏ –≤—Ö—ñ–¥–Ω—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è
3. **–†–æ—É—Ç–µ—Ä** –ø–æ–≤–∏–Ω–µ–Ω –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç—ñ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
1. **–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `start_public.sh`
2. **–î–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ ngrok
3. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω—É** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ VPS –∑ –≤–ª–∞—Å–Ω–∏–º –¥–æ–º–µ–Ω–æ–º

## üîç –£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### Web App –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost:3000

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
./check_firewall.sh

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
telnet YOUR_PUBLIC_IP 3000
```

### –ü–æ–º–∏–ª–∫–∞ "–∫–ª—ñ—î–Ω—Ç –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤–±—É–¥–æ–≤–∞–Ω–∏–π..."
- ‚úÖ Web App –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–π –ø–æ HTTP/HTTPS
- ‚úÖ URL –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –ø—É–±–ª—ñ—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞ –≤ @BotFather

### –ü–æ—Ä—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∑–æ–≤–Ω—ñ
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
sudo ufw status
sudo iptables -L

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–±—Ä–æ—Å—É –Ω–∞ —Ä–æ—É—Ç–µ—Ä—ñ
# (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –º–æ–¥–µ–ª—ñ —Ä–æ—É—Ç–µ—Ä–∞)
```

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è:
1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `./check_firewall.sh`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ—É—Ç–µ—Ä–∞
4. –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —â–æ–¥–æ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –ø–æ—Ä—Ç—ñ–≤

## üéØ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone <your-repo>
cd tg_bot

# 2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install

# 3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º
./start_public.sh

# 4. –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ Web App –≤ Telegram
```

**üéâ Web App –ø–æ–≤–∏–Ω–µ–Ω –ø—Ä–∞—Ü—é–≤–∞—Ç–∏!**
